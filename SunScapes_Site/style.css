@layer base {
    html {
        -webkit-tap-highlight-color: transparent;
    }
    body {
        @apply font-sans;
    }
    h1, h2, h3, h4, h5, h6 {
        @apply font-display;
    }
}

.shimmer {
    position: relative;
    overflow: hidden;
}

.shimmer::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    animation: shimmer-animation 1.5s infinite;
}

.dark .shimmer::after {
     background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
}


@keyframes shimmer-animation {
    100% {
        left: 100%;
    }
}

.favorite-icon.active .fill-color {
    fill: #FFA500;
    stroke: #FFA500;
}

/* For quiz progress */
.progress-bar-fill {
    transition: width 0.4s ease-in-out;
}

/* For quiz step transitions */
.quiz-step {
    display: none;
}
.quiz-step.active {
    display: block;
    animation: fadeIn 0.5s ease-in-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Custom styles for range inputs */
input[type=range]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  background: #FFA500;
  cursor: pointer;
  border-radius: 50%;
}

input[type=range]::-moz-range-thumb {
  width: 20px;
  height: 20px;
  background: #FFA500;
  cursor: pointer;
  border-radius: 50%;
}

.form-checkbox {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    display: inline-block;
    vertical-align: middle;
    background-origin: border-box;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    flex-shrink: 0;
    height: 1.25rem;
    width: 1.25rem;
    color: #0077BE;
    background-color: #fff;
    border-color: #e5e7eb;
    border-width: 2px;
    border-radius: 0.375rem;
}

.dark .form-checkbox {
    background-color: #2C3E50;
    border-color: #4b5563;
}


.form-checkbox:checked {
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
    border-color: transparent;
    background-color: currentColor;
    background-size: 100% 100%;
    background-position: center;
    background-repeat: no-repeat;
}

.form-checkbox:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    --tw-ring-color: #FFA500;
    --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
    --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
    box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}

/* Neighborhood Explorer Styles */
.map-controls {
    @apply absolute top-4 left-4 z-10 bg-white/80 dark:bg-charcoal/80 backdrop-blur-sm p-4 rounded-lg shadow-lg w-64;
}

@media (max-width: 767px) {
    .map-controls {
        @apply w-auto left-2 right-2 top-2 grid grid-cols-2 gap-x-4 gap-y-2 p-3;
    }
    .map-controls h3 {
        @apply col-span-2 text-center mb-0;
    }
}

.custom-infowindow {
    @apply p-1 text-charcoal dark:text-sand-beige;
}

.custom-infowindow h3 {
    @apply font-display font-bold text-base mb-1;
}

.custom-infowindow p {
    @apply text-sm mb-1;
}

.custom-infowindow a {
    @apply text-sunshine-orange font-semibold text-sm hover:underline;
}

.gm-style .gm-style-iw-c {
    padding: 12px !important;
    border-radius: 8px !important;
    background-color: white !important;
}

.dark .gm-style .gm-style-iw-c {
    background-color: #2C3E50 !important;
}

.gm-style .gm-style-iw-d {
    overflow: hidden !important;
}

.gm-style .gm-style-iw-t::after {
    background: white !important;
}

.dark .gm-style .gm-style-iw-t::after {
    background: #2C3E50 !important;
}

.gm-style button[title=\"Close\"] {
    background-color: white !important;
    border-radius: 50% !important;
    margin: 2px !important;
}

.dark .gm-style button[title=\"Close\"] {
    background-color: #3e4c5a !important;
}

/* Chatbot styles */
.chat-window {
    @apply fixed bottom-24 right-6 w-80 md:w-96 bg-white dark:bg-charcoal rounded-lg shadow-2xl transition-all duration-300 ease-in-out origin-bottom-right z-40;
}
.chat-hidden {
    @apply opacity-0 scale-95 translate-y-4 pointer-events-none;
}
.chat-window:not(.chat-hidden) {
    @apply opacity-100 scale-100 translate-y-0 pointer-events-auto;
}

/* Forum styles */
.breadcrumb a {
    @apply text-ocean-blue hover:underline;
}
.breadcrumb span {
    @apply mx-2 text-charcoal/50 dark:text-sand-beige/50;
}

.post-author {
    @apply w-full md:w-48 p-4 border-b md:border-b-0 md:border-r border-sand-beige dark:border-charcoal/70 flex-shrink-0 text-center;
}
.post-content {
    @apply p-6 flex-grow;
}

/* Modal styles */
.modal-overlay {
    @apply fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] transition-opacity duration-300;
}
.modal-container {
    @apply bg-white dark:bg-charcoal rounded-xl shadow-2xl p-6 md:p-8 w-11/12 max-w-lg transform transition-all duration-300;
}
.modal-hidden {
    @apply opacity-0 pointer-events-none;
}
.modal-hidden .modal-container {
    @apply scale-95;
}

/* Dashboard Tabs */
.dashboard-tabs button {
    @apply px-4 py-2 font-semibold text-charcoal/60 dark:text-sand-beige/60 border-b-2 border-transparent hover:text-ocean-blue dark:hover:text-sunshine-orange;
}
.dashboard-tabs button.active {
    @apply text-ocean-blue dark:text-sunshine-orange border-ocean-blue dark:border-sunshine-orange;
}
.tab-content {
    display: none;
}
.tab-content.active {
    display: block;
    animation: fadeIn 0.5s ease-in-out;
}

/* Document list */
.document-item {
    @apply flex items-center justify-between p-4 bg-sand-beige/30 dark:bg-charcoal/70 rounded-lg;
}

/* Recommendation carousel */
.recommendation-carousel {
    @apply flex space-x-6 overflow-x-auto pb-4 -mx-2 snap-x snap-mandatory;
}
.recommendation-carousel > div {
    @apply w-full sm:w-80 flex-shrink-0 snap-center;
}
